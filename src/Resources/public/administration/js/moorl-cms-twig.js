(this.webpackJsonp=this.webpackJsonp||[]).push([["moorl-cms-twig"],{"4MQ7":function(e,t,n){},"7mEL":function(e,t,n){},"9fGA":function(e,t,n){var i=n("7mEL");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("07462c6e",i,!0,{})},Cfjs:function(e,t,n){},J6yW:function(e,t,n){var i=n("Cfjs");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("5b772824",i,!0,{})},JPaA:function(e,t){e.exports='<div class="sw-cms-el-moorl-twig">\n    <pre>{{ element.config.contentHTML.value }}</pre>\n</div>\n'},brIr:function(e,t){e.exports='<div class="sw-cms-el-config-moorl-twig">\n\n    <sw-code-editor\n        :label="$tc(\'moorl-cms.elements.general.config.label.contentHTML\')"\n        v-model="element.config.contentHTML.value">\n    </sw-code-editor>\n\n    <sw-field v-model="element.config.useTwig.value"\n              bordered\n              type="switch"\n              :label="$tc(\'moorl-cms.elements.general.config.label.useTwig\')">\n    </sw-field>\n\n    <sw-code-editor\n        :label="$tc(\'moorl-cms.elements.general.config.label.contentCSS\')"\n        v-model="element.config.contentCSS.value">\n    </sw-code-editor>\n\n    <sw-code-editor\n        :label="$tc(\'moorl-cms.elements.general.config.label.contentJS\')"\n        v-model="element.config.contentJS.value">\n    </sw-code-editor>\n\n</div>\n'},jmlQ:function(e,t,n){"use strict";n.r(t);var i=n("JPaA"),o=n.n(i);n("9fGA");const{Component:l,Application:a,Mixin:s}=Shopware;l.register("sw-cms-el-moorl-twig",{template:o.a,mixins:[s.getByName("cms-element")],computed:{mediaUrl(){const e=Shopware.Context.api,t=this.element.data.media;return t&&t.id?this.element.data.media.url:t&&t.url?`${e.assetsPath}${t.url}`:`${e.assetsPath}/administration/static/img/cms/preview_mountain_large.jpg`},elementCss(){return{height:this.element.config.height.value}},frontCss(){if("image"==this.element.config.typeFront.value)return{"background-image":"url("+this.mediaUrl+")"}},overlayCss(){return{"align-items":this.element.config.boxVerticalAlign.value,"justify-content":this.element.config.boxHorizontalAlign.value,"min-height":this.element.config.height.value,height:this.element.config.height.value,background:this.element.config.elementBackground.value}},boxCss(){return{margin:this.element.config.boxMargin.value,padding:this.element.config.boxPadding.value,background:this.element.config.boxBackground.value,color:this.element.config.boxColor.value,width:this.element.config.boxWidth.value,height:this.element.config.boxHeight.value,"text-align":this.element.config.boxTextAlign.value}},iconCss(){return{"font-size":this.element.config.iconFontSize.value,"margin-right":this.element.config.iconMarginRight.value}},boxClass(){return this.element.config.boxMaxWidth.value?null:["reset"]}},watch:{cmsPageState:{deep:!0,handler(){this.$forceUpdate()}}},created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("moorl-twig"),this.initElementData("moorl-twig")}}});var m=n("brIr"),r=n.n(m);n("J6yW");const{Component:c,Mixin:g,StateDeprecated:d}=Shopware;c.register("sw-cms-el-config-moorl-twig",{template:r.a,mixins:[g.getByName("cms-element")],data:()=>({mediaModalIsOpen:!1,initialFolderId:null}),computed:{moorlFoundation:()=>MoorlFoundation,mediaStore:()=>d.getStore("media"),uploadStore:()=>d.getStore("upload"),uploadTag(){return`cms-element-media-config-${this.element.id}`},previewSource(){return this.element.data&&this.element.data.media&&this.element.data.media.id?this.element.data.media:this.element.config.media.value}},created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("moorl-twig")},onBlur(e){this.emitChanges(e)},onInput(e){this.emitChanges(e)},onChangeMedia(){return this.uploadStore.runUploads(this.uploadTag)},onImageUpload({targetId:e}){this.mediaStore.getByIdAsync(e).then(e=>{this.element.config.media.value=e.id,this.element.data&&(this.$set(this.element.data,"mediaId",e.id),this.$set(this.element.data,"media",e)),this.$emit("element-update",this.element)})},onImageRemove(){this.element.config.media.value=null,this.element.data&&(this.$set(this.element.data,"mediaId",null),this.$set(this.element.data,"media",null)),this.$emit("element-update",this.element)},onCloseModal(){this.mediaModalIsOpen=!1},onSelectionChanges(e){this.element.config.media.value=e[0].id,this.element.data&&(this.$set(this.element.data,"mediaId",e[0].id),this.$set(this.element.data,"media",e[0])),this.$emit("element-update",this.element)},onOpenMediaModal(){this.mediaModalIsOpen=!0},onChangeMinHeight(e){this.element.config.minHeight.value=null===e?"":e,this.$emit("element-update",this.element)},onChangeDisplayMode(e){"cover"===e?this.element.config.verticalAlign.value="":this.element.config.minHeight.value="",this.$emit("element-update",this.element)}}});var h=n("rvWI"),u=n.n(h);n("uG8B");const{Component:p}=Shopware;p.register("sw-cms-el-preview-moorl-twig",{template:u.a}),Shopware.Application.getContainer("service").cmsService.registerCmsElement({name:"moorl-twig",label:"HTML/Twig",component:"sw-cms-el-moorl-twig",configComponent:"sw-cms-el-config-moorl-twig",previewComponent:"sw-cms-el-preview-moorl-twig",defaultConfig:{contentHTML:{source:"static",value:'<p class="moorl-cms-twig-title">\n    {{ shopware.config.MoorlCmsTwig.config.string }}\n</p>\n<p class="moorl-cms-twig-logo">\n    <img src="{{ shopware.theme[\'sw-logo-desktop\'] }}" alt="Logo">    \n</p>\n<p>\n    {{ activeRoute }}\n</p>'.trim()},contentCSS:{source:"static",value:".moorl-cms-twig-title {\n    font-weight: 600;\n    color: {{ shopware.config.MoorlCmsTwig.config.color }};           \n}\n.moorl-cms-twig-logo {\n    padding: 15px;\n    background-color: {{ shopware.theme['sw-color-brand-primary'] }};          \n}"},contentJS:{source:"static",value:'console.log("{{ shopware.config.MoorlCmsTwig.config.string }}");'},useTwig:{source:"static",value:!0}}})},rvWI:function(e,t){e.exports='<div class="sw-cms-el-preview-moorl-twig">\n    <pre>HTML/Twig</pre>\n</div>\n'},uG8B:function(e,t,n){var i=n("4MQ7");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("61a85644",i,!0,{})}},[["jmlQ","runtime","vendors-node"]]]);